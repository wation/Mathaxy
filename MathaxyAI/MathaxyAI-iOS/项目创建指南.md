# Mathaxy iOS 项目创建指南

## 问题说明

由于SwiftUI项目需要通过Xcode创建和管理，直接创建的源代码文件无法直接在Xcode中打开。需要在Xcode中创建新项目，然后将源代码文件复制到项目中。

## 详细步骤

### 第一步：在Xcode中创建新项目

1. 打开Xcode
2. 选择菜单：`File` > `New` > `Project...`
3. 在弹出的对话框中选择：
   - **Platform**: iOS
   - **Template**: App
4. 点击 `Next`

### 第二步：配置项目选项

填写以下信息：

- **Product Name**: `Mathaxy`
- **Team**: 选择你的开发团队（如果没有，可以暂时不选）
- **Organization Identifier**: `com.beverg`
- **Bundle Identifier**: `com.beverg.mathaxywt`
- **Interface**: SwiftUI
- **Language**: Swift
- **Storage**: None（使用SwiftUI的默认存储）
- **Include Tests**: 不勾选（暂时不需要）
- **Include Unit Tests**: 不勾选

点击 `Next`

### 第三步：选择保存位置

1. 选择保存位置：`MathaxyAI/MathaxyAI-iOS/`
2. Xcode会自动创建以下文件：
   - `Mathaxy.xcodeproj`（项目文件）
   - `Mathaxy`（源代码目录）
   - `MathaxyTests`（测试目录，暂时不需要）

点击 `Create`

### 第四步：删除Xcode自动生成的文件

1. 在Xcode中，删除`Mathaxy`目录下自动生成的所有文件：
   - `MathaxyApp.swift`（自动生成的）
   - `ContentView.swift`（自动生成的）
   - `Assets.xcassets`（自动生成的）
   - `Preview Content`（自动生成的预览文件）

2. 只保留空目录结构

### 第五步：复制源代码文件

将以下文件和目录复制到Xcode项目的`Mathaxy`目录中：

#### 1. 应用入口
- 将`Mathaxy/MathaxyApp.swift`复制到`Mathaxy/App/`目录

#### 2. 数据模型
- 将`Mathaxy/Models/`目录下的所有文件复制到Xcode项目的`Mathaxy/Models/`目录

#### 3. 服务层
- 将`Mathaxy/Services/`目录下的所有文件复制到Xcode项目的`Mathaxy/Services/`目录

#### 4. 工具类
- 将`Mathaxy/Utils/`目录下的所有文件复制到Xcode项目的`Mathaxy/Utils/`目录

#### 5. 多语言支持
- 将`Mathaxy/Localization/`目录下的所有文件复制到Xcode项目的`Mathaxy/Localization/`目录

#### 6. 模块文件

##### Login模块
- 将`Mathaxy/Modules/Login/Model/UserProfile.swift`复制到`Mathaxy/Modules/Login/Model/`
- 将`Mathaxy/Modules/Login/ViewModel/LoginViewModel.swift`复制到`Mathaxy/Modules/Login/ViewModel/`
- 将`Mathaxy/Modules/Login/View/LoginView.swift`复制到`Mathaxy/Modules/Login/View/`

##### Home模块
- 将`Mathaxy/Modules/Home/ViewModel/HomeViewModel.swift`复制到`Mathaxy/Modules/Home/ViewModel/`
- 将`Mathaxy/Modules/Home/View/HomeView.swift`复制到`Mathaxy/Modules/Home/View/`

##### Game模块
- 将`Mathaxy/Modules/Game/Model/`目录下的所有文件复制到`Mathaxy/Modules/Game/Model/`

##### Achievement模块
- 将`Mathaxy/Modules/Achievement/Model/GuideCharacter.swift`复制到`Mathaxy/Modules/Achievement/Model/`

##### Settings模块
- 将`Mathaxy/Modules/Settings/Model/AppSettings.swift`复制到`Mathaxy/Modules/Settings/Model/`

#### 7. Info.plist
- 将`Mathaxy/Info.plist`的内容复制到Xcode项目中的`Info.plist`文件

### 第六步：在Xcode中添加文件

1. 在Xcode左侧的项目导航器中，右键点击`Mathaxy`文件夹
2. 选择`Add Files to "Mathaxy"...`
3. 选择要添加的文件和文件夹
4. 确保勾选：
   - ✅ `Copy items if needed`
   - ✅ `Create groups`
   - ✅ `Add to targets: Mathaxy`
5. 点击`Add`

### 第七步：配置项目设置

1. 选择项目文件（最顶层的蓝色图标）
2. 在右侧的`TARGETS`部分，选择`Mathaxy`
3. 点击`General`标签
4. 配置以下选项：
   - **Deployment Info**:
     - `Deployment Target`: iOS 18.0
     - `Devices`: iPhone
   - **Signing & Capabilities**:
     - 选择你的开发团队
     - `Automatically manage signing`: 勾选
   - **Build Settings**:
     - 确保所有文件都包含在`Compile Sources`中

### 第八步：编译和运行

1. 选择模拟器或真机（需要连接iPhone或iPad）
2. 点击Xcode左上角的`Run`按钮（播放图标）
3. 等待编译完成
4. 应用将在模拟器或真机上启动

## 常见问题

### 问题1：编译错误 - "Cannot find type 'xxx' in scope"

**解决方案**：
- 确保所有文件都已添加到项目中
- 在`Build Phases` > `Compile Sources`中检查是否包含所有Swift文件
- 重新编译（`Product` > `Clean Build Folder`，然后重新编译）

### 问题2：多语言不生效

**解决方案**：
- 确保所有`Localizable.strings`文件都已添加到项目中
- 在`Build Phases` > `Copy Bundle Resources`中检查是否包含所有字符串文件
- 确保文件名格式正确：`Localizable.strings`（不是`Localizable.strings(English)`）

### 问题3：颜色扩展不工作

**解决方案**：
- 确保所有文件都已添加到项目中
- 检查`Color+Extensions.swift`文件是否正确
- 重新编译

### 问题4：无法找到资源文件

**解决方案**：
- 确保所有资源文件都已添加到项目中
- 检查`Assets.xcassets`是否正确配置
- 确保文件引用路径正确

## 下一步

项目创建完成后，可以继续开发：

1. 创建剩余的View和ViewModel文件
2. 添加资源文件（图片、音效等）
3. 完成剩余的多语言字符串文件
4. 测试应用功能
5. 准备发布到App Store

## 注意事项

- 所有代码都添加了清晰的中文注释
- 系统权限相关逻辑都已重点标注
- 遵循Swift编码规范
- 使用SwiftUI最佳实践
- 遵循COPPA儿童隐私政策

---

**文档版本**: v1.0  
**创建日期**: 2026-01-19
