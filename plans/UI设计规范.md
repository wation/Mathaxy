# Mathaxy UI设计规范

## 一、设计概述

### 1.1 设计理念
- **目标用户**：小学一年级学生（6-7岁）
- **设计风格**：卡通银河风，充满童趣和探索感
- **核心原则**：简洁、直观、易操作，避免复杂装饰干扰答题

### 1.2 设计目标
- 吸引儿童注意力，激发学习兴趣
- 界面元素清晰可辨，操作简单直观
- 营造轻松愉悦的学习氛围
- 支持多语言，文字排版合理

---

## 二、色彩系统

### 2.1 主色调

```swift
// 星空蓝（主背景色）
Color(hex: "#1A1A2E")
// 使用场景：页面背景、深色元素

// 荧光黄（强调色）
Color(hex: "#FFD700")
// 使用场景：按钮、重要信息、星星装饰
```

### 2.2 辅助色

```swift
// 星云紫
Color(hex: "#4B0082")
// 使用场景：渐变背景、装饰元素

// 银河粉
Color(hex: "#FF6B9D")
// 使用场景：装饰元素、动画效果

// 彗星白
Color(hex: "#FFFFFF")
// 使用场景：文字、图标、高亮元素

// 警告红
Color(hex: "#FF4444")
// 使用场景：倒计时、错误提示

// 成功绿
Color(hex: "#00C851")
// 使用场景：正确答案、成功提示
```

### 2.3 渐变色

```swift
// 银河背景渐变
LinearGradient(
    colors: [Color(hex: "#1A1A2E"), Color(hex: "#2D2D44"), Color(hex: "#1A1A2E")],
    startPoint: .top,
    endPoint: .bottom
)

// 按钮渐变
LinearGradient(
    colors: [Color(hex: "#FFD700"), Color(hex: "#FFA500")],
    startPoint: .topLeading,
    endPoint: .bottomTrailing
)

// 勋章渐变
LinearGradient(
    colors: [Color(hex: "#FFD700"), Color(hex: "#FFA500"), Color(hex: "#FF8C00")],
    startPoint: .top,
    endPoint: .bottom
)
```

---

## 三、字体系统

### 3.1 字体家族

```swift
// 主字体：系统默认字体（San Francisco）
// 备用字体：PingFang SC（中文）、Hiragino Sans（日文）

enum AppFont {
    // 标题字体
    static let largeTitle = Font.system(size: 36, weight: .bold)
    static let title = Font.system(size: 32, weight: .bold)
    static let title2 = Font.system(size: 28, weight: .semibold)
    
    // 正文字体
    static let heading = Font.system(size: 24, weight: .semibold)
    static let body = Font.system(size: 18, weight: .regular)
    static let bodyBold = Font.system(size: 18, weight: .semibold)
    
    // 说明文字
    static let caption = Font.system(size: 14, weight: .medium)
    static let footnote = Font.system(size: 12, weight: .regular)
    
    // 特殊字体
    static let questionNumber = Font.system(size: 48, weight: .bold)
    static let timer = Font.system(size: 32, weight: .bold)
    static let answerButton = Font.system(size: 28, weight: .semibold)
}
```

### 3.2 字体颜色

```swift
enum FontColor {
    static let primary = Color(hex: "#FFFFFF")        // 主要文字
    static let secondary = Color(hex: "#E0E0E0")      // 次要文字
    static let accent = Color(hex: "#FFD700")         // 强调文字
    static let dark = Color(hex: "#1A1A2E")            // 深色文字（用于浅色背景）
    static let error = Color(hex: "#FF4444")          // 错误文字
    static let success = Color(hex: "#00C851")        // 成功文字
}
```

---

## 四、图标系统

### 4.1 图标风格
- **风格**：扁平化卡通风格
- **线条**：圆润线条，避免尖锐角
- **填充**：实心填充为主，部分使用轮廓线

### 4.2 核心图标

| 图标名称 | 用途 | 颜色 | 尺寸 |
|----------|------|------|------|
| 银河Logo | 应用Logo | 荧光黄 | 120x120 |
| 星星 | 装饰、评分 | 荧光黄/彗星白 | 24x24 / 32x32 |
| 小星球 | 装饰 | 银河粉/星云紫 | 40x40 / 60x60 |
| 勋章 | 成就展示 | 勋章渐变 | 64x64 |
| 锁 | 未解锁关卡 | 彗星白 | 32x32 |
| 解锁 | 已解锁关卡 | 荧光黄 | 32x32 |
| 主页 | 导航 | 彗星白 | 24x24 |
| 设置 | 导航 | 彗星白 | 24x24 |
| 成就 | 导航 | 彗星白 | 24x24 |
| 播放 | 开始游戏 | 荧光黄 | 48x48 |
| 重试 | 重新挑战 | 荧光黄 | 32x32 |
| 返回 | 返回上一页 | 彗星白 | 24x24 |
| 保存 | 保存奖状 | 荧光黄 | 32x32 |
| 分享 | 分享奖状 | 荧光黄 | 32x32 |

### 4.3 卡通角色图标

| 角色名称 | 用途 | 颜色 | 尺寸 |
|----------|------|------|------|
| 银河小熊猫 | 卡通向导（3枚勋章解锁） | 黑白+荧光黄 | 120x120 |
| 银河小兔子 | 卡通向导（7枚勋章解锁） | 白色+银河粉 | 120x120 |

---

## 五、组件规范

### 5.1 按钮

#### 5.1.1 主按钮
```swift
// 样式
- 背景：荧光黄渐变
- 圆角：16pt
- 阴影：轻微投影
- 文字：深色，粗体
- 尺寸：高度 56pt，宽度自适应

// 交互状态
- 默认：正常显示
- 按下：缩小至95%
- 禁用：透明度50%
```

#### 5.1.2 次按钮
```swift
// 样式
- 背景：透明
- 边框：荧光黄，2pt
- 圆角：16pt
- 文字：荧光黄
- 尺寸：高度 56pt，宽度自适应

// 交互状态
- 默认：正常显示
- 按下：背景荧光黄，文字深色
```

#### 5.1.3 答题按钮
```swift
// 样式
- 背景：星云紫
- 圆角：12pt
- 文字：彗星白，粗体
- 尺寸：高度 72pt，宽度 72pt（正方形）

// 布局
- 横向排列，间距 12pt
- 屏幕底部居中
- 避免误触（按钮间距足够大）
```

### 5.2 卡片

#### 5.2.1 关卡卡片
```swift
// 样式
- 背景：半透明星云紫（透明度30%）
- 圆角：20pt
- 边框：荧光黄，2pt
- 尺寸：高度 120pt，宽度自适应

// 内容
- 左侧：关卡编号（大号字体）
- 中间：关卡信息（时间限制、模式）
- 右侧：状态图标（锁/解锁/完成）
```

#### 5.2.2 勋章卡片
```swift
// 样式
- 背景：半透明星云紫（透明度30%）
- 圆角：16pt
- 尺寸：高度 100pt，宽度 100pt

// 内容
- 顶部：勋章图标
- 底部：勋章名称
- 未解锁：灰色，锁定图标
```

### 5.3 进度条

```swift
// 样式
- 背景：星云紫（透明度50%）
- 进度：荧光黄渐变
- 圆角：8pt
- 高度：12pt

// 文字
- 左侧：当前进度（如 "5/20"）
- 右侧：剩余时间（如 "2:30"）
```

### 5.4 倒计时显示

```swift
// 样式
- 背景：透明
- 文字：警告红，粗体
- 尺寸：48pt

// 动画
- 倒计时<5秒：闪烁效果
- 倒计时<3秒：放大效果
```

### 5.5 弹窗

```swift
// 样式
- 背景：星空蓝（透明度90%）
- 圆角：24pt
- 阴影：明显投影
- 尺寸：宽度 320pt，高度自适应

// 内容
- 顶部：图标/标题
- 中部：说明文字
- 底部：操作按钮（1-2个）
```

---

## 六、页面布局规范

### 6.1 通用布局原则
- 使用Safe Area适配刘海屏/灵动岛
- 顶部留出状态栏空间
- 底部留出Home Indicator空间
- 关键元素居中对齐
- 按钮高度不小于56pt（方便儿童点击）

### 6.2 登录页布局

```
┌─────────────────────────┐
│      [Safe Area]        │  ← 状态栏空间
├─────────────────────────┤
│                         │
│      [Logo 120x120]     │  ← 居中，距离顶部80pt
│                         │
│    [应用名称 32pt]      │  ← Logo下方，间距20pt
│                         │
│                         │
│                         │
│   [游客登录按钮]        │  ← 居中，高度56pt
│                         │
│   [家长辅助绑定按钮]    │  ← 居中，高度56pt，间距20pt
│                         │
│                         │
│   [版本信息 12pt]       │  ← 底部，距离底部40pt
│                         │
└─────────────────────────┘
```

### 6.3 首页布局

```
┌─────────────────────────┐
│  [返回]     [设置] [成就]│  ← 顶部导航
├─────────────────────────┤
│                         │
│   [卡通角色 120x120]     │  ← 居中，距离顶部40pt
│   [昵称 24pt]           │  ← 角色下方，间距10pt
│                         │
│                         │
│   [开始游戏按钮]        │  ← 居中，高度72pt
│                         │
│                         │
│   [关卡进度]            │  ← 居中
│   [当前关卡: 3/10]      │
│                         │
│                         │
└─────────────────────────┘
```

### 6.4 关卡选择页布局

```
┌─────────────────────────┐
│  [返回]    关卡选择      │  ← 顶部导航
├─────────────────────────┤
│                         │
│  ┌───────────────────┐  │
│  │  关卡 1  [解锁]   │  │  ← 关卡卡片
│  │  5分钟 | 20题     │  │
│  └───────────────────┘  │
│                         │
│  ┌───────────────────┐  │
│  │  关卡 2  [解锁]   │  │
│  │  4分钟 | 20题     │  │
│  └───────────────────┘  │
│                         │
│  ┌───────────────────┐  │
│  │  关卡 3  [当前]   │  │  ← 当前关卡高亮
│  │  3分钟 | 20题     │  │
│  └───────────────────┘  │
│                         │
│  ┌───────────────────┐  │
│  │  关卡 4  [锁定]   │  │
│  │  2分钟 | 20题     │  │
│  └───────────────────┘  │
│                         │
│        [滚动指示器]      │
└─────────────────────────┘
```

### 6.5 闯关页布局

```
┌─────────────────────────┐
│  [返回]    关卡 3/10     │  ← 顶部导航
├─────────────────────────┤
│                         │
│   [进度条 5/20]         │  ← 距离顶部20pt
│   [剩余时间: 2:30]      │
│                         │
│                         │
│   [卡通角色提示]        │  ← 居中（已解锁时显示）
│   "加油，你能行的！"    │
│                         │
│                         │
│   [题目: 3 + 8 = ?]     │  ← 居中，48pt字体
│                         │
│   [倒计时: 4.5秒]        │  ← 题目下方，32pt，红色
│                         │
│                         │
│                         │
│   [0][1][2][3][4][5]    │  ← 答题按钮
│   [6][7][8][9][10][11]   │  ← 横向排列
│   [12][13][14][15][16]   │
│   [17][18][19][20]       │
│                         │
└─────────────────────────┘
```

### 6.6 结果页布局

```
┌─────────────────────────┐
│                         │
│   [成功图标 100x100]     │  ← 居中，距离顶部60pt
│                         │
│   [恭喜通关！]           │  ← 32pt，荧光黄
│                         │
│   [用时: 2:15]          │  ← 24pt
│   [正确: 18/20]          │
│                         │
│   [获得勋章动画]         │  ← 勋章图标动画
│   [加法小勇士]           │
│                         │
│   [继续挑战按钮]        │  ← 居中，高度56pt
│                         │
│   [返回首页按钮]        │  ← 居中，高度56pt
│                         │
└─────────────────────────┘
```

### 6.7 失败页布局

```
┌─────────────────────────┐
│                         │
│   [失败图标 100x100]     │  ← 居中，距离顶部60pt
│                         │
│   [差一点哦！]           │  ← 32pt，彗星白
│                         │
│   [正确: 8/20]          │  ← 24pt
│   [错误: 12/20]          │
│                         │
│   [观看广告重试按钮]    │  ← 居中，高度56pt
│   [30秒广告 → 重新挑战]  │
│                         │
│   [返回首页按钮]        │  ← 居中，高度56pt
│                         │
└─────────────────────────┘
```

### 6.8 奖状页布局

```
┌─────────────────────────┐
│  [返回]    电子奖状      │  ← 顶部导航
├─────────────────────────┤
│                         │
│   ┌───────────────────┐  │
│   │                   │  │
│   │   [奖状预览]       │  │  ← 居中，可缩放
│   │                   │  │
│   │   [昵称]           │  │
│   │   [通关总用时]     │  │
│   │   [获得勋章数量]   │  │
│   │   [小熊猫形象]     │  │
│   │                   │  │
│   └───────────────────┘  │
│                         │
│   [保存到相册按钮]      │  ← 居中，高度56pt
│                         │
│   [分享按钮]            │  ← 居中，高度56pt
│                         │
│   [可打印成纸质奖状哦！]│  ← 14pt，彗星白
│                         │
└─────────────────────────┘
```

### 6.9 设置页布局

```
┌─────────────────────────┐
│  [返回]    设置          │  ← 顶部导航
├─────────────────────────┤
│                         │
│   ┌───────────────────┐  │
│   │ 语言设置      >   │  │
│   └───────────────────┘  │
│                         │
│   ┌───────────────────┐  │
│   │ 音效设置      >   │  │
│   └───────────────────┘  │
│                         │
│   ┌───────────────────┐  │
│   │ 关于应用      >   │  │
│   └───────────────────┘  │
│                         │
│                         │
│   [重置游戏数据]        │  ← 危险操作，红色
│                         │
│                         │
└─────────────────────────┘
```

### 6.10 成就页布局

```
┌─────────────────────────┐
│  [返回]    我的成就      │  ← 顶部导航
├─────────────────────────┤
│                         │
│   [已获得: 5/30]        │  ← 居中，24pt
│                         │
│   ┌───┐ ┌───┐ ┌───┐     │
│   │★ │ │★ │ │★ │     │  ← 勋章网格
│   └───┘ └───┘ └───┘     │
│   ┌───┐ ┌───┐ ┌───┐     │
│   │★ │ │★ │ │🔒│     │
│   └───┘ └───┘ └───┘     │
│   ┌───┐ ┌───┐ ┌───┐     │
│   │🔒│ │🔒│ │🔒│     │
│   └───┘ └───┘ └───┘     │
│                         │
│   [已解锁角色]          │  ← 居中
│   ┌───┐ ┌───┐           │
│   │🐼│ │🔒│           │  ← 卡通角色
│   └───┘ └───┘           │
│                         │
└─────────────────────────┘
```

---

## 七、动画规范

### 7.1 过渡动画

```swift
// 页面切换
- 淡入淡出：0.3秒
- 滑动：0.3秒，easeInOut

// 元素出现
- 从下方淡入：0.4秒，easeOut
- 缩放淡入：0.3秒，easeOut
```

### 7.2 交互动画

```swift
// 按钮点击
- 缩小至95%：0.1秒
- 恢复原状：0.1秒

// 答题反馈
- 正确：绿色闪烁 + 放大（0.3秒）
- 错误：红色闪烁 + 抖动（0.3秒）

// 倒计时
- <5秒：闪烁效果（1秒循环）
- <3秒：放大效果（1秒循环）
```

### 7.3 特殊动画

```swift
// 勋章获得
- 星星闪烁 + 放大 + 旋转（1秒）
- 从屏幕中心弹出

// 跳关触发
- 闪电效果 + 粒子动画（1.5秒）
- 屏幕震动

// 奖状生成
- 从上到下展开（0.5秒）
- 星星粒子效果
```

---

## 八、适配规范

### 8.1 iPhone适配

#### 8.1.1 屏幕尺寸支持
- iPhone 13/14/15 (6.1英寸)
- iPhone 13 Pro/14 Pro/15 Pro (6.1英寸)
- iPhone 13 Pro Max/14 Pro Max/15 Pro Max (6.7英寸)
- iPhone 13 mini/14 mini (5.4英寸)

#### 8.1.2 安全区域适配
```swift
// 使用GeometryReader获取安全区域
GeometryReader { geometry in
    VStack {
        // 内容
        Spacer()
            .frame(height: geometry.safeAreaInsets.bottom)
    }
}

// 使用safeAreaInset
VStack {
    // 内容
}
.safeAreaInset(edge: .bottom) {
    // 底部内容
}
```

#### 8.1.3 刘海屏/灵动岛适配
- 顶部内容避开刘海/灵动岛区域
- 使用safeAreaInsets.top获取顶部安全区域

### 8.2 iPad适配

#### 8.2.1 屏幕尺寸支持
- iPad (10.9英寸)
- iPad Air (10.9英寸)
- iPad Pro 11英寸
- iPad Pro 12.9英寸

#### 8.2.2 布局调整
```swift
// 使用HStack/VStack + Spacer实现响应式布局
HStack {
    Spacer()
    // 内容
    Spacer()
}

// 根据设备类型调整布局
if UIDevice.current.userInterfaceIdiom == .pad {
    // iPad布局
} else {
    // iPhone布局
}
```

#### 8.2.3 按钮尺寸
- iPad按钮高度不小于72pt
- 按钮间距不小于24pt
- 避免误触

---

## 九、占位资源规范

### 9.1 占位图规范

由于暂时没有设计稿，使用以下占位图：

#### 9.1.1 Logo占位图
- 尺寸：120x120pt
- 颜色：荧光黄背景
- 内容：文字"Mathaxy"或"数学银河"
- 字体：粗体，白色

#### 9.1.2 卡通角色占位图
- 小熊猫：黑白熊猫形象 + 荧光黄色星星
- 小兔子：白色兔子形象 + 银河粉色星星
- 尺寸：120x120pt
- 背景：透明

#### 9.1.3 勋章占位图
- 尺寸：64x64pt
- 形状：圆形
- 颜色：勋章渐变
- 内容：星星图标

#### 9.1.4 背景占位图
- 颜色：银河背景渐变
- 装饰：随机分布的星星（不同大小、透明度）

### 9.2 音效占位规范

#### 9.2.1 答对音效
- 类型：轻快"叮咚"声
- 时长：0.5秒
- 格式：MP3

#### 9.2.2 答错音效
- 类型：柔和"嘀"声
- 时长：0.3秒
- 格式：MP3

#### 9.2.3 勋章获得音效
- 类型：星空闪烁音效
- 时长：1秒
- 格式：MP3

---

## 十、设计交付物

### 10.1 设计资源清单

#### 10.1.1 图片资源
- [ ] Logo（@1x, @2x, @3x）
- [ ] 银河小熊猫（@1x, @2x, @3x）
- [ ] 银河小兔子（@1x, @2x, @3x）
- [ ] 勋章图标（@1x, @2x, @3x）
- [ ] 星星装饰（多种尺寸）
- [ ] 小星球装饰（多种尺寸）
- [ ] 成功图标
- [ ] 失败图标
- [ ] 锁图标
- [ ] 解锁图标
- [ ] 导航图标（主页、设置、成就等）

#### 10.1.2 音效资源
- [ ] 答对音效（7种语言）
- [ ] 答错音效（7种语言）
- [ ] 勋章获得音效
- [ ] 角色解锁音效
- [ ] 按钮点击音效

### 10.2 设计规范文档
- [ ] 色彩系统
- [ ] 字体系统
- [ ] 图标系统
- [ ] 组件规范
- [ ] 布局规范
- [ ] 动画规范

---

## 十一、设计检查清单

### 11.1 视觉检查
- [ ] 色彩对比度符合WCAG AA标准
- [ ] 字体大小适合儿童阅读
- [ ] 图标清晰可辨
- [ ] 布局合理，无拥挤感

### 11.2 交互检查
- [ ] 按钮尺寸适合儿童点击
- [ ] 交互反馈及时明显
- [ ] 动画流畅自然
- [ ] 无误触风险

### 11.3 适配检查
- [ ] iPhone各尺寸适配
- [ ] iPad适配
- [ ] 刘海屏/灵动岛适配
- [ ] 横竖屏切换（如需要）

### 11.4 多语言检查
- [ ] 文字排版合理
- [ ] 支持长文本
- [ ] 支持RTL语言（如阿拉伯语，如需要）

---

**文档版本**: v1.0
**创建日期**: 2026-01-19
**最后更新**: 2026-01-19
